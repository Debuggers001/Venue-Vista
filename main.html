<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Event Location Finder</title>
    <style>
        #map {
            height: 400px;
        }

        div h1 {
            text-align: center;
        }

        #map {
            height: 100vh;
            width: 100vw;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        section {
            z-index: 1;
        }

        nav input,
        button,
        select,
        option {
            margin: 10px;
            border-radius: 30px;
            padding: 10px;
            border: none;
            background-color: antiquewhite;
            box-shadow: 2px 2px 5px 0px black;
        }

        nav input[type="text"] {
            width: 300px;
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <section>
        <div>
            <h1 id="motto">Venue Vista</h1>
            <nav>
                <input type="text" id="location" placeholder="Enter a location">
                <button id="search">Search</button>
                <button id="get-location">Get My Location</button>
                <select id="event-type">
                    <option>Enagagement</option>
                    <option>Marriage</option>
                    <option>Wedding</option>
                    <option>Birthday</option>
                </select>
                <input type="number" placeholder="No. of people">
                <button>Get My Location</button>
                <button>Get My Location</button>
            </nav>
        </div>
    </section>

    <!-- <div>
        <label for="event-type">Select Event Type:</label>
        <select id="event-type">
            <option value="birthday">Birthday Party</option>
            <option value="wedding">Wedding</option>
            <option value="engagement">Engagement</option>
        </select>
    </div>

    <div>
        <button id="get-location">Get My Location</button>
        <input type="text" id="location" placeholder="Enter a location">
        <button id="search">Search</button>
    </div> -->


    <script>
        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 10
            });

            const markers = []; // Store markers on the map

            // Function to add a marker to the map
            function addMarker(location, eventType) {
                const marker = new google.maps.Marker({
                    position: location,
                    map: map,
                    label: eventType[0].toUpperCase(), // Display the event type as a label on the marker
                });
                markers.push(marker);
            }

            // Event listener for the "Get My Location" button
            document.getElementById("map").addEventListener("click", function () {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function (position) {
                        const eventType = document.getElementById("event-type").value;
                        const coords = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };

                        map.setCenter(coords);
                        addMarker(coords, eventType);
                        document.getElementById("location").value = coords.lat + ", " + coords.lng;
                    }, function (error) {
                        alert("Error getting your location: " + error.message);
                    });
                } else {
                    alert("Geolocation is not supported by your browser");
                }
                document.getElementById("motto").style.color = "white";
            });

            // Event listener for the "Search" button
            document.getElementById("search").addEventListener("click", function () {
                const eventType = document.getElementById("event-type").value;
                const location = document.getElementById("location").value;

                // Use Geocoding API to convert location to coordinates
                const geocoder = new google.maps.Geocoder();
                geocoder.geocode({ address: location }, function (results, status) {
                    console.log(status);
                    console.log(results);
                    if (status === "OK" && results[0].geometry) {
                        const coords = results[0].geometry.location;
                        map.setCenter(coords);
                        addMarker(coords, eventType);
                    } else {
                        alert("Location not found");
                    }
                });
            });
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyARjC8_aXhUnbBZuRY3JiVRTqV0-An_0ZI&callback=initMap"
        async defer></script>
</body>

</html>